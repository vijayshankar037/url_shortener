
IPS = [
'246.214.33.3',
'254.234.179.70',
'230.90.251.36',
'64.60.234.68',
'200.31.205.73',
'182.218.234.20',
'227.119.225.239',
'192.56.108.125',
'216.229.107.188',
'58.242.159.142',
'99.110.129.183',
'106.21.1.131',
'49.29.96.13',
'236.108.235.210',
'117.66.246.26',
'57.71.27.243',
'29.89.181.121',
'237.60.126.62',
'11.17.174.105',
'122.197.176.228',
'53.246.65.101',
'249.218.118.66',
'168.175.232.137',
'79.225.135.67',
'5.4.110.160',
'164.154.18.106',
'248.208.89.68',
'15.230.168.46',
'249.151.98.130',
'44.123.95.82',
'171.100.100.137',
'124.11.92.195',
'113.176.20.249',
'67.43.161.238',
'37.186.155.129',
'183.49.67.66',
'158.3.54.214',
'199.232.237.14',
'137.176.208.54',
'178.174.5.155',
'95.85.24.157',
'105.93.115.158',
'39.17.243.229',
'33.201.43.244',
'168.141.70.47',
'223.168.64.76',
'39.78.81.213',
'61.80.12.229',
'228.15.250.42',
'128.119.49.201',
'139.30.91.174',
'122.221.150.8',
'7.155.101.134',
'115.84.135.87',
'253.242.25.201',
'135.249.3.122',
'240.111.21.203',
'181.107.110.67',
'29.64.76.194',
'6.116.97.163',
'232.62.151.20',
'200.123.252.53',
'76.119.134.18',
'218.217.161.100',
'14.53.8.106',
'103.11.223.120',
'201.245.238.101',
'18.180.40.19',
'112.137.68.219',
'104.95.242.183',
'171.19.48.182',
'68.126.70.154',
'113.20.125.236',
'197.223.132.225',
'4.59.215.62',
'202.205.1.4',
'150.47.200.93',
'214.75.108.55',
'210.179.213.90',
'173.229.235.251',
'74.168.66.115',
'216.206.16.127',
'62.119.252.157',
'152.31.103.207',
'120.10.129.18',
'157.172.134.75',
'110.243.71.143',
'45.228.67.78',
'225.151.22.28',
'143.47.34.80',
'245.138.40.58',
'126.216.165.255',
'53.104.186.63',
'185.21.21.243',
'79.234.121.9',
'252.41.56.246',
'4.165.245.190',
'125.227.33.12',
'121.1.218.186',
'16.163.157.208',
'63.229.100.192',
'165.237.186.56',
'157.210.150.240',
'91.154.183.18',
'8.153.2.62',
'3.194.7.22',
'125.41.114.155',
'96.218.166.137',
'5.138.13.175',
'169.56.197.53'
]
URLS= [
  'https://www.indiatoday.in/india/story/covid-19-80-rise-in-home-isolation-cases-over-65-jump-in-containment-zones-count-in-delhi-1719221-2020-09-06',
  'https://www.indiatoday.in/movies/celebrities/story/rhea-chakraborty-mega-exclusive-interview-to-rajdeep-sardesai-live-updates-1715815-2020-08-27?utm_source=rhs&utm_medium=It&utm_campaign=readthis&t_source=rhs&t_medium=It&t_campaign=readthis'
]
URLS.each do |url|
  url = ShortenedUrl.new(original_url:url)
  url.sanitize_url
  url.save
  puts "Url saved..."
#Insert tracking
  0.upto(20).each do |chr|
    result = Geocoder.search(IPS.sample).first
    if result.present? && result.data['country'].present?
      url.trackings.create(
        ip: result.data.fetch('ip',''),
        country: result.data.fetch('country','')
      )
    end
  end
  puts "20 tracking saved"

end
